<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2) on Mon Sep 19 17:22:52 EDT 2005 -->
<TITLE>
JavaSpace05 (Jini(TM) Technology Starter Kit Specifications)
</TITLE>

<META NAME="keywords" CONTENT="net.jini.space.JavaSpace05 interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="JavaSpace05 (Jini(TM) Technology Starter Kit Specifications)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/JavaSpace05.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="JavaSpace05.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.jini.space</FONT>
<BR>
Interface JavaSpace05</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD>net.jini.space.JavaSpace</DD>
</DL>
<HR>
<DL>
<DT>public interface <B>JavaSpace05</B><DT>extends net.jini.space.JavaSpace</DL>

<P>
The <code>JavaSpace05</code> interface extends the <CODE>JavaSpace</CODE> interface to provide methods that allow clients to
 perform batch operations on the space (which are generally more
 efficient than performing an equivalent set of singleton
 operations) and to more easily develop applications where a
 given <CODE>Entry</CODE> needs to be read by multiple clients.
 Implementations of the <code>JavaSpace</code> interface are not
 required to implement this interface.<p>

 Unless otherwise noted, the effects of any invocation of a
 method defined by this interface must be visible to any
 operation on the space that is started after the invocation
 returns normally. Note, the effects of a method invocation that
 throws a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi"><CODE>RemoteException</CODE></A> are not necessarily visible
 when the exception is thrown. <p>

 All of the methods of this interface take one or more <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A>s as arguments. Each such <code>Collection</code>
 must be treated as immutable by implementations and must not be
 changed by the client during the course of any method
 invocation to which they have been passed.<p>

 This interface is not a remote interface. Each implementation of
 this interface exports a proxy object that implements this
 interface local to the client.  Each method of the interface
 takes as one of its arguments a <code>Collection</code> of
 <code>Entry</code> instances. The entries themselves must be
 serialized in accordance with the <a
 href=http://www.jini.org/standards/index.html>Jini(TM) Entry
 Specification</a> and will not be altered by the
 call. Typically, the <code>Collection</code> holding the entries
 will not be serialized at all. If one of these entries can't be
 serialized, a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalException.html" title="class or interface in java.rmi"><CODE>MarshalException</CODE></A> will be thrown. Aside
 from the handling of these <code>Collection</code> of
 <code>Entry</code> parameters, all methods defined by this
 interface otherwise obey normal Java(TM) Remote Method
 Invocation remote interface semantics.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><a href=http://www.jini.org/standards/index.html>
      JavaSpaces(TM) Service Specification</a>, 
<a href=http://www.jini.org/standards/index.html>
      Jini(TM) Entry Specification</a></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_net.jini.space.JavaSpace"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface net.jini.space.JavaSpace</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>NO_WAIT</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">MatchSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/jini/space/JavaSpace05.html#contents(java.util.Collection, net.jini.core.transaction.Transaction, long, long)">contents</A></B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A>&nbsp;tmpls,
         net.jini.core.transaction.Transaction&nbsp;txn,
         long&nbsp;leaseDuration,
         long&nbsp;maxEntries)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">match set</A> that can be used to
 exhaustively read through all of the matching entries in
 the space that are visible to the passed <CODE>Transaction</CODE> and remain visible for the lifetime of the
 match set. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.jini.core.event.EventRegistration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/jini/space/JavaSpace05.html#registerForAvailabilityEvent(java.util.Collection, net.jini.core.transaction.Transaction, boolean, net.jini.core.event.RemoteEventListener, long, java.rmi.MarshalledObject)">registerForAvailabilityEvent</A></B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A>&nbsp;tmpls,
                             net.jini.core.transaction.Transaction&nbsp;txn,
                             boolean&nbsp;visibilityOnly,
                             net.jini.core.event.RemoteEventListener&nbsp;listener,
                             long&nbsp;leaseDuration,
                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html" title="class or interface in java.rmi">MarshalledObject</A>&nbsp;handback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register for events triggered when a matching <CODE>Entry</CODE>
 transitions from unavailable to available.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/jini/space/JavaSpace05.html#take(java.util.Collection, net.jini.core.transaction.Transaction, long, long)">take</A></B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A>&nbsp;tmpls,
     net.jini.core.transaction.Transaction&nbsp;txn,
     long&nbsp;timeout,
     long&nbsp;maxEntries)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method provides an overload of the <CODE>JavaSpace.take</CODE> method that attempts to
 remove, optionally under a <CODE>Transaction</CODE>, and return
 one or more entries from the space. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util">List</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/jini/space/JavaSpace05.html#write(java.util.List, net.jini.core.transaction.Transaction, java.util.List)">write</A></B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util">List</A>&nbsp;entries,
      net.jini.core.transaction.Transaction&nbsp;txn,
      <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util">List</A>&nbsp;leaseDurations)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method provides an overload of the <CODE>JavaSpace.write</CODE> method that allows new
 copies of multiple <CODE>Entry</CODE> instances to be stored in
 the space using a single call. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_net.jini.space.JavaSpace"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface net.jini.space.JavaSpace</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>notify, read, readIfExists, snapshot, take, takeIfExists, write</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="write(java.util.List, net.jini.core.transaction.Transaction, java.util.List)"><!-- --></A><H3>
write</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util">List</A> <B>write</B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util">List</A>&nbsp;entries,
                  net.jini.core.transaction.Transaction&nbsp;txn,
                  <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util">List</A>&nbsp;leaseDurations)
           throws net.jini.core.transaction.TransactionException,
                  <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></PRE>
<DL>
<DD>This method provides an overload of the <CODE>JavaSpace.write</CODE> method that allows new
 copies of multiple <CODE>Entry</CODE> instances to be stored in
 the space using a single call. The client may specify a
 <CODE>Transaction</CODE> for the operation to be performed
 under. Each <code>Entry</code> to be stored in the space
 has a separate requested initial lease duration. <p>

 The effect on the space of an invocation of this method
 successfully storing an <code>Entry</code> is the same as if
 the <code>Entry</code> had been successfully stored by a
 call to the singleton form of <code>write</code> under
 <code>txn</code> with the given requested initial lease
 duration. This method returns the proxies to the leases for
 each newly stored <code>Entry</code> by returning a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util"><CODE>List</CODE></A> of <CODE>Lease</CODE> instances. The <em>i</em> th element
 of the returned <code>List</code> will be a proxy for the
 lease on the <code>Entry</code> created from the <em>i</em>
 th element of <code>entries</code>. <p>

 If an invocation of this method returns normally, then a new
 copy of each element of <code>entries</code> must have been
 stored in the space. A new copy of each element will be
 stored even if there are duplicates (either in terms of
 object identity or of entry equivalence) in
 <code>entries</code>. <p>
 
 The order in which the entries stored by an invocation of
 this method will become visible in the space is unspecified,
 and different observers may see the entries become visible
 in different orders.<p>

 If a <CODE>TransactionException</CODE>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html" title="class or interface in java.lang"><CODE>SecurityException</CODE></A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang"><CODE>IllegalArgumentException</CODE></A>, or
 <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang"><CODE>NullPointerException</CODE></A> is thrown, no entries will
 have been added to the space by this operation. If a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi"><CODE>RemoteException</CODE></A> is thrown, either new copies of all of the
 elements of <code>entries</code> will have been stored or
 no entries will have been stored; that is, in the case of a
 <code>RemoteException</code>, the storing of new entries in
 the space will either fail or succeed as a unit. <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>entries</CODE> - a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html" title="class or interface in java.util"><CODE>List</CODE></A> of <CODE>Entry</CODE> instances to
                be written to the space<DD><CODE>txn</CODE> - the <CODE>Transaction</CODE> this operation should be
                performed under, may be <code>null</code><DD><CODE>leaseDurations</CODE> - a <code>List</code> of
                <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Long.html" title="class or interface in java.lang"><CODE>Long</CODE></A>s representing the
                requested initial lease durations
<DT><B>Returns:</B><DD>a <code>List</code> of <CODE>Lease</CODE> instances, one
         for each element of <code>entries</code>, may be
         immutable. The space will not keep a reference to
         the result
<DT><B>Throws:</B>
<DD><CODE>net.jini.core.transaction.TransactionException</CODE> - if <code>txn</code> is
         non-<code>null</code> and is not usable by the
         space
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></CODE> - if a communication error occurs
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>entries</code> and
         <code>leaseDurations</code> are not the same length
         or are empty, if any element of <code>entries</code>
         is not an instance of <code>Entry</code>, if any
         element of <code>leaseDurations</code> is not an
         instance of <code>Long</code>, or if any element of
         <code>leaseDurations</code> is a negative value
         other than <CODE>Lease.ANY</CODE>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang">NullPointerException</A></CODE> - if either <code>entries</code>
         or <code>leaseDurations</code> is <code>null</code>
         or contains a <code>null</code> value</DL>
</DD>
</DL>
<HR>

<A NAME="take(java.util.Collection, net.jini.core.transaction.Transaction, long, long)"><!-- --></A><H3>
take</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A> <B>take</B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A>&nbsp;tmpls,
                       net.jini.core.transaction.Transaction&nbsp;txn,
                       long&nbsp;timeout,
                       long&nbsp;maxEntries)
                throws <A HREF="../../../net/jini/entry/UnusableEntriesException.html" title="class in net.jini.entry">UnusableEntriesException</A>,
                       net.jini.core.transaction.TransactionException,
                       <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></PRE>
<DL>
<DD>This method provides an overload of the <CODE>JavaSpace.take</CODE> method that attempts to
 remove, optionally under a <CODE>Transaction</CODE>, and return
 one or more entries from the space. Each <CODE>Entry</CODE>
 taken will match one or more elements of the passed <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A> of templates, and all of the taken entries will
 be visible to the passed <code>Transaction</code>. If there
 are initially no matches in the space that are visible to
 the passed <code>Transaction</code>, an invocation of this
 method will block for up to a specified timeout for one or
 more matches to appear. <p>

 The effect on the space of an invocation of this method
 successfully taking an <code>Entry</code> will be the same
 as if the <code>Entry</code> had been taken using the
 singleton version of this method and passing
 <code>txn</code> as the <code>Transaction</code>. <p>

 The <code>tmpls</code> parameter must be a
 <code>Collection</code> of <code>Entry</code> instances to
 be used as templates. All of the entries taken must match
 one or more of these templates. The <code>tmpls</code>
 parameter may contain <code>null</code> values and may
 contain duplicates. An <code>Entry</code> is said to be
 <em>available</em> to an invocation of this method if the
 <code>Entry</code> could have been returned by an
 invocation of the singleton <code>take</code> method using
 <code>txn</code>. <p>

 If the method succeeds, a non-<code>null</code>
 <code>Collection</code> will be returned. The
 <code>Collection</code> will contain a copy of each
 <code>Entry</code> that was taken. If no entries were taken,
 the <code>Collection</code> will be empty.  Each
 <code>Entry</code> taken will be represented by a distinct
 <code>Entry</code> instance in the returned
 <code>Collection</code>, even if some of the entries are
 equivalent to others taken by the operation. There will be
 no <code>null</code> elements in the returned 
 <code>Collection</code>.<p>

 If one or more of the entries taken cannot be unmarshalled
 in the client, an <A HREF="../../../net/jini/entry/UnusableEntriesException.html" title="class in net.jini.entry"><CODE>UnusableEntriesException</CODE></A> is
 thrown. The exception's <A HREF="../../../net/jini/entry/UnusableEntriesException.html#getEntries()"><CODE>UnusableEntriesException.getEntries</CODE></A> method will return a
 <code>Collection</code> with a copy of each
 <code>Entry</code> that could be unmarshalled. The <A HREF="../../../net/jini/entry/UnusableEntriesException.html#getUnusableEntryExceptions()"><CODE>UnusableEntriesException.getUnusableEntryExceptions</CODE></A> method
 will return a <code>Collection</code> with an <CODE>UnusableEntryException</CODE> for each <code>Entry</code> that
 could not be unmarshalled. Every <code>Entry</code> taken
 by the invocation will either be represented in the
 <code>Collection</code> returned by <code>getEntries</code>
 or in the <code>Collection</code> returned by
 <code>getUnusableEntryExceptions</code>. <p>

 If there is at least one matching <code>Entry</code>
 available in the space, an invocation of this method must
 take at least one <code>Entry</code>. If more than one
 matching <code>Entry</code> is available, the invocation may
 take additional entries. It must not take more than
 <code>maxEntries</code>, but an implementation may chose to
 take fewer entries from the space than the maximum available or
 the maximum allowed by <code>maxEntries</code>.  If for
 whatever reason, an invocation of this method takes fewer
 entries than the maximum number of available matching
 entries, how an implementation selects which entries should be
 taken by the invocation and which are left in the space is
 unspecified. How consumption of entries is arbitrated
 between conflicting queries is also unspecified. <p>

 If there are initially no matching entries in the space, an
 invocation of this method should block for up to
 <code>timeout</code> milliseconds for a match to appear. If
 one or more matches become available before
 <code>timeout</code> expires, one or more of the newly
 available entries should be taken and the method should
 return without further blocking. If for some reason the
 invocation can't block for the full timeout and no entries
 have been taken, the invocation must fail with a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi"><CODE>RemoteException</CODE></A> or <CODE>TransactionException</CODE> as
 appropriate. <p>

 If an invocation of this method removes (or locks) more than
 one <code>Entry</code>, the order in which the removal (or
 locking) occurs is undefined, and different observers may see
 the removal or locking of the entries in different
 orders. <p>

 If a <code>TransactionException</code>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html" title="class or interface in java.lang"><CODE>SecurityException</CODE></A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang"><CODE>IllegalArgumentException</CODE></A>, or
 <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang"><CODE>NullPointerException</CODE></A> is thrown, no entries will
 have been taken. If a <code>RemoteException</code> is
 thrown, up to <code>maxEntries</code> may have been taken
 by this operation. <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tmpls</CODE> - a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A> of <CODE>Entry</CODE>
              instances, each representing a template. All
              of the entries taken by an invocation of this
              method will match one or more elements of
              <code>tmpls</code><DD><CODE>txn</CODE> - the <CODE>Transaction</CODE> this operation should be
              performed under, may be <code>null</code><DD><CODE>timeout</CODE> - if there are initially no available
              matches in the space, the maximum number of
              milliseconds to block waiting for a match to
              become available<DD><CODE>maxEntries</CODE> - the maximum number of entries that may be
              taken by this method
<DT><B>Returns:</B><DD>a <code>Collection</code> that contains a copy of each
         <code>Entry</code> taken from the space by this
         method. The space will not keep a reference to
         this <code>Collection</code>. May be immutable
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../net/jini/entry/UnusableEntriesException.html" title="class in net.jini.entry">UnusableEntriesException</A></CODE> - if one or more of the
         entries taken can't be unmarshalled in the client
<DD><CODE>net.jini.core.transaction.TransactionException</CODE> - if <code>txn</code> is
         non-<code>null</code> and is not usable by the
         space.
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></CODE> - if a communication error occurs
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if any non-<code>null</code>
         element of <code>tmpls</code> is not an instance of
         <code>Entry</code>, if <code>tmpls</code> is empty,
         if <code>timeout</code> is negative, or if
         <code>maxEntries</code> is non-positive
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang">NullPointerException</A></CODE> - if <code>tmpls</code> is null</DL>
</DD>
</DL>
<HR>

<A NAME="contents(java.util.Collection, net.jini.core.transaction.Transaction, long, long)"><!-- --></A><H3>
contents</H3>
<PRE>
public <A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">MatchSet</A> <B>contents</B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A>&nbsp;tmpls,
                         net.jini.core.transaction.Transaction&nbsp;txn,
                         long&nbsp;leaseDuration,
                         long&nbsp;maxEntries)
                  throws net.jini.core.transaction.TransactionException,
                         <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></PRE>
<DL>
<DD>Creates a <A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">match set</A> that can be used to
 exhaustively read through all of the matching entries in
 the space that are visible to the passed <CODE>Transaction</CODE> and remain visible for the lifetime of the
 match set. May also yield additional entries that match but
 are only visible for part of the lifetime of the match
 set. <p>

 The <code>tmpls</code> parameter must be a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A> of <CODE>Entry</CODE> instances to be used as
 templates. All of the entries placed in the match set will
 match one or more of these templates. <code>tmpls</code> may
 contain <code>null</code> values and may contain
 duplicates. An <code>Entry</code> is said to be
 <em>visible</em> to an invocation of this method if the
 <code>Entry</code> could have been returned by a singleton
 <CODE>JavaSpace.read</CODE> using the same
 transaction. <p>

 The resulting match set must initially contain all of the
 visible matching entries in the space. During the lifetime
 of the match set an <code>Entry</code> may be, but is not
 required to be, added to the match set if it becomes
 visible. If the match set becomes empty, no more entries can
 be added and the match set enters the <A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">exhausted</A> state.<p>
 
 Normally there are three conditions under which an
 <code>Entry</code> might be removed from the match set:
 
 <ul>

 <li> Any <code>Entry</code> yielded by an invocation of the
 <A HREF="../../../net/jini/space/MatchSet.html#next()"><CODE>MatchSet.next</CODE></A> method on the match
 set (either as the return value of a successful call or
 embedded in an <CODE>UnusableEntryException</CODE>) must be
 removed from the match set.

 <li> Any <code>Entry</code> that remains in the match set
 after <code>maxEntries</code> entries are yielded by
 <code>next</code> invocations must be removed from the
 match set. In such a case, the criteria used to select which
 entries are yielded by <code>next</code> calls and which
 get removed from the set at the end is unspecified.
 
 <li> Any <code>Entry</code> that during the lifetime of the
 match set becomes invisible may at the discretion of the
 implementation be removed from the match set.

 </ul>
 <p>

 An implementation may decide to remove an <code>Entry</code>
 from the set for other reasons.  If it does so, however, it
 must <A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">invalidate</A> the set.<p>

 If <code>txn</code> is non-<code>null</code> and still
 active, any <code>Entry</code> removed from the match set by
 a <code>next</code> call must be locked as if it had been
 returned by a read operation using <code>txn</code>. An
 implementation may establish the read lock on the
 <code>Entry</code> any time between when the
 <code>Entry</code> is added to the match set and when the
 <code>Entry</code> is removed from the match set by an
 invocation of <code>next</code>. These read locks are not
 released when the match set reaches either the exhausted
 state or the invalidated state. If from the space's
 perspective the <code>txn</code> leaves the active state,
 the space must remove from the match set any entries in the
 match set that have not yet been read locked. This may
 require the match set to be invalidated. <p>
 
 If the match set is leased and <code>leaseDuration</code>
 is positive, the initial duration of the lease must be less
 than or equal to <code>leaseDuration</code>. If
 <code>leaseDuration</code> is <CODE>Lease.ANY</CODE>,
 the initial duration of the lease can be any positive value
 desired by the implementation. <p>

 If there are <A HREF="../../../net/jini/core/constraint/package-summary.html">remote
 method constraints</A> associated with an invocation of this
 method, any remote communications performed by or on behalf
 of the match set's <code>next</code> method will be
 performed in compliance with these constraints, not with the
 constraints (if any) associated with <code>next</code>. <p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tmpls</CODE> - a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A> of <CODE>Entry</CODE>
              instances, each representing a template. All
              the entries added to the resulting match set will
              match one or more elements of <code>tmpls</code><DD><CODE>txn</CODE> - the <CODE>Transaction</CODE> this operation should be
              performed under, may be <code>null</code><DD><CODE>leaseDuration</CODE> - the requested initial lease time on
              the resulting match set<DD><CODE>maxEntries</CODE> - the maximum number of entries to remove
              from the set via <A HREF="../../../net/jini/space/MatchSet.html#next()"><CODE>MatchSet.next</CODE></A> 
              calls
<DT><B>Returns:</B><DD>A proxy to the newly created <A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space">match set</A>
<DT><B>Throws:</B>
<DD><CODE>net.jini.core.transaction.TransactionException</CODE> - if <code>txn</code> is
         non-<code>null</code> and is not usable by the
         space
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></CODE> - if a communication error occurs
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if any non-<code>null</code>
         element of <code>tmpls</code> is not an instance of
         <code>Entry</code>, if <code>tmpls</code> is empty,
         if <code>leaseDuration</code> is neither positive
         nor <CODE>Lease.ANY</CODE>, or if
         <code>maxEntries</code> is non-positive
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang">NullPointerException</A></CODE> - if <code>tmpls</code> is
         <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="registerForAvailabilityEvent(java.util.Collection, net.jini.core.transaction.Transaction, boolean, net.jini.core.event.RemoteEventListener, long, java.rmi.MarshalledObject)"><!-- --></A><H3>
registerForAvailabilityEvent</H3>
<PRE>
public net.jini.core.event.EventRegistration <B>registerForAvailabilityEvent</B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util">Collection</A>&nbsp;tmpls,
                                                                          net.jini.core.transaction.Transaction&nbsp;txn,
                                                                          boolean&nbsp;visibilityOnly,
                                                                          net.jini.core.event.RemoteEventListener&nbsp;listener,
                                                                          long&nbsp;leaseDuration,
                                                                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html" title="class or interface in java.rmi">MarshalledObject</A>&nbsp;handback)
                                                                   throws net.jini.core.transaction.TransactionException,
                                                                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></PRE>
<DL>
<DD>Register for events triggered when a matching <CODE>Entry</CODE>
 transitions from unavailable to available.  The resulting
 events will be instances of the <A HREF="../../../net/jini/space/AvailabilityEvent.html" title="class in net.jini.space"><CODE>AvailabilityEvent</CODE></A>
 class and the <A HREF="../../../net/jini/space/AvailabilityEvent.html#getEntry()"><CODE>AvailabilityEvent.getEntry</CODE></A> method will return a copy of
 the <code>Entry</code> whose transition triggered the
 event.<p>

 An <code>Entry</code> makes a transition from
 <em>unavailable to available</em> when it goes from being in
 a state where it could not be returned by a <CODE>JavaSpace.take</CODE> using <code>txn</code> to a
 state where it could be returned. An <code>Entry</code>
 makes a transition from <em>invisible to visible</em> when
 it goes from being in a state where it could not be returned
 by a <CODE>JavaSpace.read</CODE> using
 <code>txn</code> to a state where it could be
 returned. Note, any transition from invisible to visible is
 also a transition from unavailable to available, but an
 already visible entry can be unavailable and then make a
 transition from unavailable to available. Because the entry
 was already visible, this transition would not be a
 transition from invisible to visible.<p>

 The <code>tmpls</code> parameter must be a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A> of <code>Entry</code> instances to be used as
 templates. Events will be generated when an
 <code>Entry</code> that matches one or more of these
 templates makes an appropriate transition. A single
 transition will generate only one event per registration, in
 particular the transition of an <code>Entry</code> that
 matches multiple elements of <code>tmpls</code> must still
 generate exactly one event for this registration. If a given
 <code>Entry</code> undergoes multiple applicable transitions
 while the registration is active, each must generate a
 separate event.<p>
 
 Events are not generated directly by the transition of
 matching entries, but instead by an abstract observer set up
 in the space for each registration. The observer may see the
 transitions out of order and as a result the order of the
 events generated for this registration (as determined by the
 sequence numbers assigned to the events) may be different
 from the order of the transitions themselves. Additionally,
 each registration will have its own abstract observer and
 different observers may see the same sequence of transitions
 in different orders. As a result, given a set of transitions
 that trigger events for two different registrations, the
 order of the events generated for one registration may
 differ from the order of the events generated for the
 other. <p>

 A non-<code>null</code> <CODE>EventRegistration</CODE> object
 will be returned.  Each registration will be assigned an
 event ID. The event ID will be unique at least with respect
 to all other active event registrations for
 <code>AvailabilityEvent</code>s on this space with a
 non-equivalent set of templates, a different transaction,
 and/or a different value for the
 <code>visibilityOnly</code> flag. The event ID can be
 obtained by calling the <CODE>EventRegistration.getID</CODE> method on the returned
 <code>EventRegistration</code>. The returned
 <code>EventRegistration</code> object's <CODE>EventRegistration.getSource</CODE>
 method will return a reference to the space.<p>
 
 Registrations are leased. <code>leaseDurations</code>
 represents the client's desired initial lease duration.  If
 <code>leaseDuration</code> is positive, the initial lease
 duration will be a positive value less than or equal to
 <code>leaseDuration</code>. If <code>leaseDuration</code> is
 <CODE>Lease.ANY</CODE>, the space is free to pick any
 positive initial lease duration it desires. A proxy for the
 lease associated with the registration can be obtained by
 calling the returned <code>EventRegistration</code>'s <CODE>EventRegistration.getLease</CODE>
 method.<p>

 A registration made with a non-<code>null</code> value for
 <code>txn</code> is implicitly dropped when the space
 observes <code>txn</code> has left the active state.<p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tmpls</CODE> - a <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html" title="class or interface in java.util"><CODE>Collection</CODE></A> of <CODE>Entry</CODE>
              instances, each representing a
              template. Events for this registration will be
              generated by the transitions of entries
              matching one or more elements of
              <code>tmpls</code><DD><CODE>txn</CODE> - the <CODE>Transaction</CODE> this operation should be
              performed under, may be <code>null</code><DD><CODE>visibilityOnly</CODE> - if <code>true</code>, events will
              be generated for this registration only when a
              matching <code>Entry</code> transitions from
              invisible to visible, otherwise events will be
              generated when a matching <code>Entry</code>
              makes any transition from unavailable to
              available<DD><CODE>listener</CODE> - the object to which events generated for
              this registration should be delivered<DD><CODE>leaseDuration</CODE> - the requested initial lease time on
              the resulting event registration<DD><CODE>handback</CODE> - the <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html" title="class or interface in java.rmi"><CODE>MarshalledObject</CODE></A> to be 
              returned by the <CODE>RemoteEvent.getRegistrationObject</CODE> method of
              the events generated for this registration
<DT><B>Returns:</B><DD>an <CODE>EventRegistration</CODE> object with
         information on this registration
<DT><B>Throws:</B>
<DD><CODE>net.jini.core.transaction.TransactionException</CODE> - if <code>txn</code> is
         non-<code>null</code> and is not usable by the
         space
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html" title="class or interface in java.rmi">RemoteException</A></CODE> - if a communication error occurs
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if any non-<code>null</code>
         element of <code>tmpls</code> is not an instance of
         <code>Entry</code>, if <code>tmpls</code> is empty,
         or if <code>leaseDuration</code> is neither
         positive nor <CODE>Lease.ANY</CODE>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang">NullPointerException</A></CODE> - if <code>tmpls</code> or
         <code>listener</code> is <code>null</code></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/JavaSpace05.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../net/jini/space/MatchSet.html" title="interface in net.jini.space"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="JavaSpace05.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright 2005, Sun Microsystems, Inc.<br> Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0>Apache License, Version 2.0</a>.
</BODY>
</HTML>
